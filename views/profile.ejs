<!-- FILEPATH: /home/lubesh/software_project/views/profile.ejs -->

<!--
    This is the profile page template for a web application.
    It displays the user's profile information and allows them to edit and save their profile.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAMS | <%= title %>
    </title>
    <link rel="stylesheet" href="/nav.css">
    <link rel="stylesheet" href="/profile.css">
    <link rel="stylesheet" href="/footer.css">

</head>

<body>
    <%- include('partials/nav') %>
        <div class="container">
            <h1>User Profile</h1>
            <form id="profile-form">

                <!-- Full Name -->
                <div class="profile-info">
                    <label for="full-name">Full Name:</label>
                    <input type="text" id="full-name" name="full-name" value="<%= user.name %>" required>
                </div>

                <!-- Date of Birth -->
                <div class="profile-info">
                    <label for="dob">Date of Birth:</label>
                    <input type="date" id="dob" name="dob" value="<%= formattedDate %>" required>
                </div>

                <!-- Email -->
                <div class="profile-info">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" value="<%= user.email %>" required>
                </div>

                <!-- Mobile Number -->
                <div class="profile-info">
                    <label for="mobile">Mobile Number:</label>
                    <input type="tel" id="mobile" name="mobile" value="<%= user.mobileNumber %>" pattern="[0-9]{10}"
                        required>
                </div>

                <!-- Age -->
                <div class="profile-info">
                    <label for="age">AGE:</label>
                    <input type="number" id="age" name="age" value="<%= user.age %>" required>
                </div>

                <!-- Gender -->
                <div class="profile-info">
                    <label>Gender:</label>
                    <input type="text" id="gender" name="gender" value="<%= user.gender%>" required>
                </div>

                <!-- Edit Profile Button -->
                <button type="button" id="edit-profile-btn" class="submit-btn" onclick="toggleEdit()">Edit
                    Profile</button>

            </form>

            <!-- Edit Profile Form -->
            <form id="edit-profile-form" class="hidden">

                <!-- Full Name (Edit) -->
                <div class="profile-info">
                    <label for="full-name">Full Name:</label>
                    <input type="text" id="full-name-edit" name="full-name" value="<%= user.name %>" required>
                </div>

                <!-- Date of Birth (Edit) -->
                <div class="profile-info">
                    <label for="dob">Date of Birth:</label>
                    <input type="date" id="dob-edit" name="dob" value="<%= formattedDate %>" required>
                </div>

                <!-- Email (Edit) -->
                <div class="profile-info">
                    <label for="email">Email:</label>
                    <input type="email" id="email-edit" name="email" value="<%= user.email %>" required>
                </div>

                <!-- Mobile Number (Edit) -->
                <div class="profile-info">
                    <label for="mobile">Mobile Number:</label>
                    <input type="tel" id="mobile-edit" name="mobile" value="<%= user.mobileNumber %>"
                        pattern="[0-9]{10}" required>
                </div>

                <!-- Age (Edit) -->
                <div class="profile-info">
                    <label for="age">AGE:</label>
                    <input type="number" id="age-edit" name="age" value="<%= user.age %>" required>
                </div>

                <!-- Gender (Edit) -->
                <div class="profile-info">
                    <label>Gender:</label>
                    <input type="text" id="gender-edit" name="gender" value="<%= user.gender%>" required>
                </div>

                <!-- Save Profile Button -->
                <div class="button-container">
                    <button type="button" id="save-profile-btn" class="submit-btn" onclick="saveProfile()">Save
                        Profile</button>
                    <button type="button" class="submit-btn" onclick="cancelEdit()">Cancel Edit</button>
                </div>

            </form>
        </div>

        <script src="/script.js"></script>

</body>

</html>